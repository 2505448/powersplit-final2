<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>PowerSplit — Fair Energy for Shared Homes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="PowerSplit fairly splits energy bills in shared homes with per-device tracking, live dashboards and a smooth online checkout."
  />

  <style>
    :root {
      --bg-page: #f3f5fb;
      --bg-surface: #ffffff;
      --bg-soft: #f9fafb;
      --bg-header: rgba(15, 23, 42, 0.96);

      --fg-main: #020617;
      --fg-soft: #4b5563;
      --fg-muted: #6b7280;

      --accent: #16a34a;
      --accent-soft: #dcfce7;
      --accent-strong: #166534;
      --accent-blue: #2563eb;

      --border-subtle: #e5e7eb;
      --border-strong: #cbd5f5;

      --radius-lg: 22px;
      --radius-md: 16px;
      --radius-pill: 999px;

      --shadow-soft: 0 18px 55px rgba(15, 23, 42, 0.14);
      --shadow-strong: 0 26px 80px rgba(15, 23, 42, 0.2);

      --transition-fast: 160ms ease-out;
      --transition-med: 260ms cubic-bezier(.19,1,.22,1);
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", Roboto, Arial, sans-serif;
    }

    html, body {
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top left, #e0e7ff 0, #f3f5fb 40%, #eef2ff 100%);
      color: var(--fg-main);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .shell {
      max-width: 1360px;
      margin: 0 auto;
      padding: 16px 22px 110px;
    }

    @media (max-width: 640px) {
      .shell { padding-inline: 14px; }
    }

    /* HEADER */

    header {
      position: sticky;
      top: 10px;
      z-index: 40;
      margin-bottom: 30px;
      background: var(--bg-header);
      border-radius: 999px;
      padding: 8px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.55);
      box-shadow: 0 18px 46px rgba(15, 23, 42, 0.65);
      opacity: 0;
      transform: translateY(-18px);
      animation: headerIn 450ms var(--transition-med) forwards;
      backdrop-filter: blur(18px);
    }

    @keyframes headerIn {
      to { opacity: 1; transform: translateY(0); }
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-mark {
      width: 32px;
      height: 32px;
      border-radius: 11px;
      background: radial-gradient(circle at 0 0, #bbf7d0, #22c55e);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #022c22;
      font-size: 13px;
      font-weight: 800;
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.85), 0 14px 30px rgba(22, 163, 74, 0.7);
      transform: translateZ(0);
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      line-height: 1.1;
    }

    .brand-text span:first-child {
      font-weight: 800;
      letter-spacing: 0.02em;
      font-size: 18px;
    }

    .brand-text span:last-child {
      font-size: 11px;
      color: #9ca3af;
    }

    nav {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    nav button {
      border-radius: var(--radius-pill);
      border: 1px solid transparent;
      background: transparent;
      color: #cbd5f5;
      font-size: 13px;
      padding: 6px 12px;
      cursor: pointer;
      position: relative;
      transition: color var(--transition-fast), background var(--transition-fast),
        border-color var(--transition-fast), transform var(--transition-fast);
    }

    nav button::after {
      content: "";
      position: absolute;
      left: 12px;
      right: 12px;
      bottom: 4px;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, #4ade80, #22c55e);
      transform-origin: center;
      transform: scaleX(0);
      transition: transform 220ms cubic-bezier(.19,1,.22,1);
    }

    nav button:hover {
      color: #ffffff;
      background: rgba(15, 23, 42, 0.9);
      transform: translateY(-1px);
    }

    nav button.active {
      background: rgba(248, 250, 252, 0.08);
      border-color: rgba(148, 163, 184, 0.8);
      color: #ffffff;
    }

    nav button.active::after { transform: scaleX(1); }

    .header-cta {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .btn {
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: #020617;
      color: #e5e7eb;
      font-size: 13px;
      padding: 7px 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      font-weight: 500;
      transition: background var(--transition-fast), color var(--transition-fast),
        border-color var(--transition-fast), box-shadow var(--transition-fast),
        transform var(--transition-fast);
      white-space: nowrap;
    }

    .btn.primary {
      background: linear-gradient(135deg, #16a34a, #22c55e);
      border-color: rgba(22, 163, 74, 0.9);
      color: #022c22;
      box-shadow: 0 18px 45px rgba(21, 128, 61, 0.5);
      animation: breathe 3s ease-in-out infinite;
    }

    @keyframes breathe {
      0%,100% { transform: translateY(0) scale(1); box-shadow: 0 18px 45px rgba(21,128,61,.45); }
      50% { transform: translateY(-1px) scale(1.02); box-shadow: 0 26px 70px rgba(21,128,61,.7); }
    }

    .btn.primary:hover {
      background: linear-gradient(135deg, #22c55e, #4ade80);
      transform: translateY(-1px) scale(1.03);
    }

    .btn.soft {
      background: radial-gradient(circle at 0 0, #1f2937, #020617);
    }

    .btn:hover {
      border-color: rgba(148, 163, 184, 0.9);
      box-shadow: 0 14px 38px rgba(15, 23, 42, 0.6);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: none;
    }

    .btn.outline-light {
      background: transparent;
      border-color: rgba(148, 163, 184, 0.8);
      color: #e5e7eb;
      box-shadow: none;
      padding-inline: 12px;
      animation: none;
    }

    .btn.outline-light:hover {
      background: rgba(15, 23, 42, 0.85);
      box-shadow: 0 8px 26px rgba(15, 23, 42, 0.8);
    }

    @media (max-width: 880px) {
      header {
        flex-wrap: wrap;
        justify-content: center;
        border-radius: 20px;
      }
      .header-cta { justify-content: center; }
    }

    /* SECTIONS */

    main { margin-top: 4px; }

    section {
      margin-bottom: 90px;
      padding-top: 8px;
      display: none;
      opacity: 0;
      transform: translateY(18px);
      transition: opacity var(--transition-med), transform var(--transition-med);
      min-height: 86vh;
    }

    #home, #dashboard { min-height: 92vh; }

    section.active { display: block; }
    section.show { opacity: 1; transform: translateY(0); }

    .reveal {
      opacity: 0;
      transform: translateY(16px);
      transition: opacity 280ms var(--transition-med),
        transform 280ms var(--transition-med);
    }
    .reveal.in-view { opacity: 1; transform: translateY(0); }

    /* HERO */

    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.25fr) minmax(0, 1.05fr);
      gap: 32px;
      align-items: stretch;
      min-height: 430px;
      margin-bottom: 28px;
      perspective: 1200px;
    }

    @media (max-width: 900px) {
      .hero {
        grid-template-columns: minmax(0, 1fr);
        min-height: auto;
      }
    }

    .hero-left, .hero-right {
      will-change: transform;
      transition: transform 500ms cubic-bezier(.19,1,.22,1);
    }

    .kicker {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--accent-blue);
      margin-bottom: 8px;
      font-weight: 600;
    }

    h1 {
      margin: 0 0 10px;
      font-size: clamp(30px, 4.4vw, 42px);
      letter-spacing: 0.01em;
      color: #020617;
    }

    p {
      margin: 0;
      font-size: 14px;
      line-height: 1.6;
      color: var(--fg-muted);
    }

    .hero-sub { margin-bottom: 14px; }

    .hero-meta {
      font-size: 12px;
      color: var(--fg-soft);
      margin-top: 10px;
    }

    .row {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .hero-card {
      background: var(--bg-surface);
      border-radius: 26px;
      border: 1px solid var(--border-subtle);
      padding: 18px;
      box-shadow: var(--shadow-strong);
      display: flex;
      flex-direction: column;
      gap: 12px;
      transform-origin: center;
    }

    /* HERO DASHBOARD PREVIEW */

    .hero-dashboard {
      border-radius: 18px;
      background: radial-gradient(circle at top left, #0f172a, #020617);
      color: #e5e7eb;
      padding: 14px;
      display: grid;
      gap: 10px;
      font-size: 12px;
    }

    .hero-dash-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 6px;
    }

    .hero-dash-title { font-weight: 600; }

    .hero-dash-chip {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: #cbd5f5;
    }

    .hero-dash-tabs {
      display: inline-flex;
      border-radius: 999px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      overflow: hidden;
      margin-top: 4px;
    }

    .hero-dash-tab {
      font-size: 11px;
      padding: 3px 9px;
      cursor: pointer;
      background: transparent;
      border: none;
      color: #9ca3af;
    }

    .hero-dash-tab.active {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
    }

    .hero-dash-main {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 10px;
    }

    .hero-dash-amounts {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .hero-person {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }

    .hero-person span:first-child {
      font-size: 11px;
      color: #9ca3af;
    }

    .hero-person span:last-child {
      font-size: 13px;
      font-weight: 600;
    }

    .progress-bar {
      width: 100%;
      height: 16px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.7);
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, #16a34a, #22c55e);
      transform-origin: left;
      transform: scaleX(0.35);
      transition: transform 420ms cubic-bezier(.19,1.1,.22,1);
    }

    .hero-note {
      font-size: 11px;
      color: #a5b4fc;
      margin-top: 4px;
    }

    .section-title {
      font-size: 22px;
      margin: 0 0 6px;
      color: #020617;
    }

    .section-lead {
      margin: 0 0 18px;
      font-size: 14px;
      color: var(--fg-soft);
    }

    .grid-three {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 18px;
    }

    @media (max-width: 900px) {
      .grid-three { grid-template-columns: minmax(0, 1fr); }
    }

    .card {
      background: var(--bg-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
      padding: 18px;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
      transition: transform 260ms cubic-bezier(.19,1,.22,1),
        box-shadow 260ms cubic-bezier(.19,1,.22,1), border-color 160ms ease-out;
      transform-origin: center;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at top left, rgba(34, 197, 94, 0.09), transparent 55%);
      opacity: 0;
      transition: opacity 220ms cubic-bezier(.19,1,.22,1), transform 220ms cubic-bezier(.19,1,.22,1);
      transform: translate3d(-10px, -10px, 0);
      pointer-events: none;
    }

    .card:hover {
      transform: translateY(-4px) scale(1.01);
      box-shadow: 0 26px 80px rgba(15, 23, 42, 0.18);
      border-color: rgba(129, 140, 248, 0.45);
    }

    .card:hover::before { opacity: 1; transform: translate3d(0,0,0); }

    .card h3 {
      margin: 0 0 6px;
      font-size: 16px;
      color: #020617;
    }

    .muted {
      color: var(--fg-soft);
      font-size: 13px;
    }

    ul.clean {
      list-style: none;
      margin: 0;
      padding: 0;
      font-size: 14px;
      color: var(--fg-muted);
    }

    ul.clean li + li { margin-top: 6px; }

    .home-row {
      display: grid;
      grid-template-columns: 2.1fr 1.1fr;
      gap: 18px;
      margin-top: 26px;
    }

    @media (max-width: 900px) {
      .home-row { grid-template-columns: minmax(0, 1fr); }
    }

    /* PRODUCT DEMO (no photos) */

    .gallery {
      margin-top: 34px;
    }

    .gallery-row {
      display: flex;
      gap: 18px;
      overflow-x: auto;
      padding-bottom: 6px;
      scroll-snap-type: x mandatory;
    }

    .gallery-card {
      min-width: 260px;
      max-width: 320px;
      background: radial-gradient(circle at 0 0, #ecfdf5, #e0f2fe);
      border-radius: 22px;
      border: 1px solid #dbeafe;
      box-shadow: 0 20px 60px rgba(15, 23, 42, 0.18);
      padding: 14px;
      scroll-snap-align: start;
      display: flex;
      flex-direction: column;
      gap: 8px;
      transform: translateY(0) scale(1);
      transition: transform 260ms cubic-bezier(.19,1,.22,1), box-shadow 260ms cubic-bezier(.19,1,.22,1);
    }

    .gallery-card:hover {
      transform: translateY(-6px) scale(1.02) rotateX(3deg);
      box-shadow: 0 32px 100px rgba(15, 23, 42, 0.35);
    }

    .gallery-title {
      font-size: 14px;
      font-weight: 600;
      color: #111827;
    }

    .gallery-text {
      font-size: 12px;
      color: var(--fg-soft);
    }

    /* CSS “device” demo */

    .demo-visual {
      border-radius: 18px;
      background: #020617;
      padding: 12px;
      position: relative;
      overflow: hidden;
      height: 160px;
    }

    /* Smart plug demo */
    .plug-strip {
      display: flex;
      gap: 12px;
      align-items: center;
      height: 100%;
    }

    .plug {
      width: 56px;
      height: 76px;
      border-radius: 18px;
      background: radial-gradient(circle at 0 0, #e5f4ff, #c4e3ff);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.7);
      position: relative;
      animation: float 3.2s ease-in-out infinite;
    }

    .plug:nth-child(2) { animation-delay: .4s; }
    .plug:nth-child(3) { animation-delay: .8s; }

    @keyframes float {
      0%,100% { transform: translateY(2px); }
      50% { transform: translateY(-4px); }
    }

    .plug-face {
      position: absolute;
      inset: 12px 10px;
      border-radius: 14px;
      background: #f9fafb;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .plug-face div {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #0f172a;
    }

    .plug-face div:last-child {
      width: 18px;
      height: 4px;
      border-radius: 999px;
    }

    .plug-led {
      position: absolute;
      bottom: 6px;
      left: 50%;
      width: 12px;
      height: 4px;
      border-radius: 999px;
      transform: translateX(-50%);
      background: #16a34a;
      box-shadow: 0 0 12px rgba(22, 163, 74, .9);
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%,100% { opacity: .4; }
      50% { opacity: 1; }
    }

    /* Phone demo */
    .phone-shell {
      width: 96px;
      height: 150px;
      border-radius: 26px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at 0 0, #0f172a, #020617);
      padding: 8px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 18px 50px rgba(15,23,42,0.7);
      animation: float 3.5s ease-in-out infinite;
    }

    .phone-notch {
      position: absolute;
      top: 6px;
      left: 50%;
      transform: translateX(-50%);
      width: 36px;
      height: 6px;
      border-radius: 999px;
      background: rgba(15,23,42,.8);
    }

    .phone-screen {
      position: absolute;
      inset: 16px 8px 10px;
      border-radius: 14px;
      background: radial-gradient(circle at top, #111827, #020617);
      padding: 6px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .phone-row {
      display: flex;
      gap: 4px;
    }

    .phone-pill {
      flex: 1;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(90deg,#22c55e,#4ade80);
      animation: meter 2.4s ease-in-out infinite;
    }

    .phone-pill:nth-child(2) {
      background: linear-gradient(90deg,#38bdf8,#2563eb);
      animation-delay: .2s;
    }

    .phone-pill:nth-child(3) {
      background: linear-gradient(90deg,#fb923c,#ea580c);
      animation-delay: .4s;
    }

    @keyframes meter {
      0%,100% { transform: scaleX(.6); transform-origin:left; }
      50% { transform: scaleX(1); }
    }

    .phone-bars {
      margin-top: 4px;
      display: grid;
      grid-template-columns: repeat(4,1fr);
      gap: 3px;
      align-items: flex-end;
      height: 38px;
    }

    .phone-bar {
      border-radius: 999px;
      background: linear-gradient(180deg,#22c55e,#15803d);
      transform-origin: bottom;
      animation: bars 2.2s ease-in-out infinite;
    }

    .phone-bar:nth-child(2) {
      background: linear-gradient(180deg,#38bdf8,#2563eb);
      animation-delay: .1s;
    }
    .phone-bar:nth-child(3) {
      background: linear-gradient(180deg,#fb923c,#ea580c);
      animation-delay: .2s;
    }
    .phone-bar:nth-child(4) {
      background: linear-gradient(180deg,#a855f7,#7c3aed);
      animation-delay: .3s;
    }

    @keyframes bars {
      0%,100% { height: 20%; }
      50% { height: 80%; }
    }

    /* Dashboard mini demo */

    .mini-dash {
      width: 100%;
      height: 100%;
      border-radius: 18px;
      background: radial-gradient(circle at top left,#0f172a,#020617);
      padding: 10px;
      position: relative;
      box-shadow: 0 20px 60px rgba(15,23,42,.7);
    }

    .mini-dash-header {
      display:flex;
      justify-content:space-between;
      font-size:10px;
      color:#9ca3af;
      margin-bottom:4px;
    }

    .mini-dash-bar {
      width:100%;
      height:16px;
      border-radius:999px;
      overflow:hidden;
      display:flex;
      box-shadow: inset 0 1px 2px rgba(15,23,42,.8);
      margin-bottom:6px;
    }

    .mini-dash-seg {
      height:100%;
      transition:width .4s cubic-bezier(.19,1.1,.22,1);
    }

    .mini-dash-seg:nth-child(1){background:linear-gradient(90deg,#22c55e,#15803d);width:38%;}
    .mini-dash-seg:nth-child(2){background:linear-gradient(90deg,#38bdf8,#2563eb);width:32%;}
    .mini-dash-seg:nth-child(3){background:linear-gradient(90deg,#fb923c,#ea580c);width:30%;}

    .mini-dash-cards {
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:4px;
      margin-top:4px;
    }

    .mini-dash-card {
      border-radius:10px;
      background:rgba(15,23,42,.9);
      padding:4px 6px;
      font-size:9px;
      color:#e5e7eb;
    }

    .mini-dash-card strong {
      display:block;
      font-size:10px;
    }

    /* DASHBOARD SECTION */

    .dash-shell {
      background: var(--bg-surface);
      border-radius: 30px;
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-strong);
      display: grid;
      grid-template-columns: 0.9fr 2.1fr;
      overflow: hidden;
      min-height: 460px;
      transform-origin: center;
      transition: transform 260ms cubic-bezier(.19,1,.22,1),
        box-shadow 260ms cubic-bezier(.19,1,.22,1);
    }

    .dash-shell:hover {
      transform: translateY(-6px) scale(1.01);
      box-shadow: 0 36px 110px rgba(15, 23, 42, 0.4);
    }

    @media (max-width: 900px) {
      .dash-shell { grid-template-columns: minmax(0, 1fr); }
    }

    .dash-sidebar {
      background: radial-gradient(circle at top, #020617, #020617 60%, #020617 100%);
      color: #e5e7eb;
      padding: 16px 14px;
      border-right: 1px solid rgba(30, 64, 175, 0.7);
    }

    .dash-logo {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 12px;
    }

    .dash-nav {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 18px;
    }

    .dash-nav button {
      border-radius: 12px;
      border: 1px solid transparent;
      background: transparent;
      color: #9ca3af;
      font-size: 12px;
      padding: 7px 9px;
      display: flex;
      justify-content: space-between;
      cursor: pointer;
      transition: background var(--transition-fast), color var(--transition-fast),
        border-color var(--transition-fast), transform var(--transition-fast);
    }

    .dash-nav button span:last-child { font-size: 11px; }

    .dash-nav button.active {
      background: rgba(15, 23, 42, 0.95);
      border-color: rgba(148, 163, 184, 0.8);
      color: #e5e7eb;
      transform: translateX(2px);
    }

    .dash-sidebar-footer {
      margin-top: 20px;
      font-size: 11px;
      color: #9ca3af;
    }

    .dash-main {
      padding: 20px 20px 22px;
      background: radial-gradient(circle at top right, #e0f2fe 0, #eef2ff 40%, #f9fafb 100%);
    }

    .dash-main-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 18px;
    }

    .dash-main-title {
      font-size: 16px;
      font-weight: 600;
    }

    .dash-pill {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: var(--radius-pill);
      border: 1px solid var(--border-strong);
      background: rgba(255, 255, 255, 0.9);
      color: var(--fg-soft);
    }

    .dash-main-content {
      display: flex;
      flex-direction: column;
      gap: 18px;
      min-height: 380px;
    }

    .usage-wrap {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.6fr);
      gap: 20px;
      align-items: stretch;
    }

    @media (max-width: 900px) {
      .usage-wrap { grid-template-columns: minmax(0, 1fr); }
    }

    .usage-metrics {
      background: rgba(255, 255, 255, 0.96);
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      padding: 14px 14px 13px;
      box-shadow: var(--shadow-soft);
    }

    .usage-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--fg-soft);
      margin-bottom: 4px;
    }

    .usage-main {
      font-size: 28px;
      font-weight: 700;
      color: #020617;
      margin-bottom: 4px;
    }

    .usage-sub {
      font-size: 12px;
      color: var(--fg-soft);
      margin-bottom: 10px;
    }

    .usage-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .usage-pill {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid var(--border-strong);
      background: #f9fafb;
      color: var(--fg-soft);
    }

    .usage-visual {
      background: rgba(255, 255, 255, 0.96);
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      padding: 14px 14px 10px;
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .usage-bar-label-row {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: var(--fg-soft);
      align-items: baseline;
    }

    .usage-bar-track {
      width: 100%;
      height: 28px;
      border-radius: 999px;
      background: linear-gradient(90deg, #e5e7eb, #e5e7eb);
      overflow: hidden;
      display: flex;
      box-shadow: inset 0 1px 2px rgba(148, 163, 184, 0.7);
      position: relative;
      background-size: 200% 100%;
      animation: barGlow 6s linear infinite;
    }

    @keyframes barGlow {
      from { background-position: 0% 0; }
      to { background-position: -100% 0; }
    }

    .usage-fill {
      height: 100%;
      width: 0;
      transform-origin: left;
      transition: width 480ms cubic-bezier(.19,1.25,.22,1);
    }

    .u-col-0 { background: linear-gradient(90deg, #22c55e, #15803d); }
    .u-col-1 { background: linear-gradient(90deg, #38bdf8, #2563eb); }
    .u-col-2 { background: linear-gradient(90deg, #fb923c, #ea580c); }
    .u-col-3 { background: linear-gradient(90deg, #a855f7, #7c3aed); }

    .usage-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 8px 16px;
      font-size: 11px;
      color: var(--fg-soft);
      margin-top: 4px;
    }

    .usage-legend-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .usage-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.25);
    }
    .usage-dot.u-col-0 { background:#22c55e; }
    .usage-dot.u-col-1 { background:#38bdf8; }
    .usage-dot.u-col-2 { background:#fb923c; }
    .usage-dot.u-col-3 { background:#a855f7; }

    .dash-lower-row {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 18px;
      flex: 1;
      min-height: 160px;
    }

    @media (max-width: 900px) {
      .dash-lower-row { grid-template-columns: minmax(0, 1fr); }
    }

    .dash-panel {
      background: rgba(255, 255, 255, 0.96);
      border-radius: 18px;
      border: 1px solid var(--border-subtle);
      padding: 12px;
      height: 100%;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 220ms cubic-bezier(.19,1,.22,1),
        transform 220ms cubic-bezier(.19,1,.22,1);
      box-shadow: var(--shadow-soft);
    }

    .dash-panel.active {
      opacity: 1;
      transform: translateY(0);
    }

    .dash-panel h4 {
      margin: 0 0 6px;
      font-size: 14px;
    }

    .table {
      margin-top: 4px;
      font-size: 12px;
    }

    .table-row {
      display: flex;
      justify-content: space-between;
      padding: 4px 0;
      border-bottom: 1px dashed rgba(148, 163, 184, 0.5);
    }

    .table-row:last-child { border-bottom: none; }

    .usage-stories {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }

    @media (max-width: 900px) {
      .usage-stories { grid-template-columns: minmax(0, 1fr); }
    }

    .usage-story {
      border-radius: 18px;
      padding: 10px 12px;
      background: radial-gradient(circle at 0 0, #e0f2fe, #eef2ff);
      border: 1px solid #dbeafe;
      font-size: 12px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .usage-story-title {
      font-weight: 600;
      color: #111827;
    }

    .usage-story-metric {
      font-size: 13px;
      font-weight: 600;
      color: #16a34a;
    }

    /* PRICING */

    .grid-two {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 20px;
    }

    @media (max-width: 900px) {
      .grid-two { grid-template-columns: minmax(0, 1fr); }
    }

    .price-tag {
      font-size: 26px;
      font-weight: 700;
      margin: 6px 0 2px;
      color: #020617;
    }

    .price-note {
      font-size: 12px;
      color: var(--fg-soft);
    }

    .billing-toggle {
      display: inline-flex;
      border-radius: 999px;
      border: 1px solid var(--border-strong);
      overflow: hidden;
      background: var(--bg-soft);
      margin-bottom: 12px;
    }

    .billing-option {
      border: none;
      background: transparent;
      padding: 5px 12px;
      font-size: 12px;
      cursor: pointer;
      color: var(--fg-muted);
    }

    .billing-option.active {
      background: #ffffff;
      color: #111827;
      font-weight: 500;
    }

    .pricing-bottom {
      margin-top: 26px;
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 16px;
    }

    @media (max-width: 900px) {
      .pricing-bottom { grid-template-columns: minmax(0, 1fr); }
    }

    /* FORMS */

    .field { margin-bottom: 10px; }

    label {
      font-size: 13px;
      color: var(--fg-soft);
      display: block;
      margin-bottom: 4px;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid var(--border-strong);
      background: var(--bg-soft);
      font-size: 13px;
      color: var(--fg-main);
    }

    input::placeholder { color: var(--fg-muted); }

    .input-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .error {
      font-size: 12px;
      color: #b91c1c;
      margin-top: 4px;
    }

    .success {
      font-size: 13px;
      color: var(--accent-strong);
      background: var(--accent-soft);
      border-radius: 12px;
      padding: 8px 10px;
      margin-top: 6px;
      border: 1px solid var(--accent);
    }

    .small-link {
      font-size: 12px;
      color: var(--accent-blue);
      text-decoration: underline;
      cursor: pointer;
    }

    .note {
      font-size: 12px;
      color: var(--fg-soft);
      margin-top: 6px;
    }

    /* Checkout stepper */

    .stepper {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--fg-soft);
      margin-bottom: 10px;
    }

    .step-circle {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid var(--border-strong);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      background: #ffffff;
    }

    .step-circle.active {
      background: #16a34a;
      border-color: #16a34a;
      color: #ffffff;
    }

    .step-label {
      font-weight: 500;
      color: #111827;
    }

    .step-divider {
      flex: 1;
      height: 1px;
      background: var(--border-strong);
    }

    .step-panel { display: none; }
    .step-panel.active { display: block; }

    .security-strip {
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      color: var(--fg-soft);
    }

    .badge-pill {
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid var(--border-strong);
      background: #f9fafb;
    }

    /* FOOTER + COOKIES */

    .footer-main {
      margin-top: 40px;
      padding-top: 22px;
      border-top: 1px solid var(--border-subtle);
      display: grid;
      grid-template-columns: 1.4fr repeat(3, minmax(0, 1fr));
      gap: 24px;
      font-size: 13px;
      color: var(--fg-soft);
    }

    @media (max-width: 900px) {
      .footer-main { grid-template-columns: minmax(0, 1fr) minmax(0, 1fr); }
    }

    @media (max-width: 640px) {
      .footer-main { grid-template-columns: minmax(0, 1fr); }
    }

    .footer-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 6px;
    }

    .footer-logo-mark {
      width: 26px;
      height: 26px;
      border-radius: 9px;
      background: radial-gradient(circle at 0 0, #bbf7d0, #22c55e);
    }

    .footer-title {
      font-size: 13px;
      font-weight: 600;
      color: #111827;
      margin-bottom: 6px;
    }

    .footer-links {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 13px;
    }

    .footer-links a { color: var(--fg-soft); }
    .footer-links a:hover { color: #111827; }

    .footer-bottom {
      margin-top: 14px;
      font-size: 12px;
      color: var(--fg-soft);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    .cookie-bar {
      position: fixed;
      inset-inline: 0;
      bottom: 0;
      display: flex;
      justify-content: center;
      pointer-events: none;
      z-index: 50;
    }

    .cookie-inner {
      pointer-events: all;
      max-width: 840px;
      width: calc(100% - 24px);
      margin: 10px;
      padding: 11px 16px;
      border-radius: 999px;
      background: radial-gradient(circle at 0 0, #111827, #020617);
      color: #e5e7eb;
      font-size: 12px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      display: flex;
      align-items: center;
      gap: 10px;
      transform: translateY(120%);
      opacity: 0;
      transition: transform 260ms cubic-bezier(.19,1,.22,1),
        opacity 260ms cubic-bezier(.19,1,.22,1);
      box-shadow: 0 -10px 35px rgba(15, 23, 42, 0.7);
      backdrop-filter: blur(18px);
    }

    .cookie-inner.show {
      transform: translateY(0);
      opacity: 1;
    }

    .cookie-text { flex: 1; }
    .cookie-actions { display:flex; gap:6px; flex-wrap:wrap; }

    /* Motion-safe */
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
    }
  </style>
</head>
<body>
  <div class="shell">
    <!-- HEADER -->
    <header>
      <div class="brand">
        <div class="brand-mark">PS</div>
        <div class="brand-text">
          <span>PowerSplit</span>
          <span>Fair energy, no drama</span>
        </div>
      </div>

      <nav>
        <button data-section="home" class="active">Home</button>
        <button data-section="dashboard">Dashboard</button>
        <button data-section="pricing">Pricing</button>
        <button data-section="checkout">Checkout</button>
        <button data-section="account">Account</button>
      </nav>

      <div class="header-cta">
        <button class="btn soft" data-section="account">Sign in</button>
        <button class="btn primary" data-section="checkout" data-action="buy-starter" id="headerBuy">Get PowerSplit</button>
      </div>
    </header>

    <main>
      <!-- HOME -->
      <section id="home" class="active show">
        <div class="hero" id="hero">
          <div class="hero-left reveal in-view">
            <div class="kicker">For shared homes & student flats</div>
            <h1>Split energy bills without awkward chats or guesswork.</h1>
            <p class="hero-sub">
              PowerSplit tracks which devices each person actually uses. The app turns that into a fair monthly split, so
              everyone sees the same numbers and the bill is settled in seconds.
            </p>
            <div class="row" style="margin-bottom:12px;">
              <button class="btn primary" data-action="buy-starter">Buy Starter Kit</button>
              <button class="btn soft" data-section="dashboard">View dashboard</button>
            </div>
            <div class="hero-meta">
              Works in typical UK houses · Under 10 minutes to set up · One dashboard for the whole flat
            </div>
          </div>

          <div class="hero-right">
            <div class="hero-card reveal">
              <div class="hero-dashboard">
                <div class="hero-dash-header">
                  <div>
                    <div class="hero-dash-title">Flat 12, King Street</div>
                    <div style="font-size:11px;color:#9ca3af;">Current month preview</div>
                  </div>
                  <div class="hero-dash-chip">Live usage</div>
                </div>

                <div class="hero-dash-tabs">
                  <button class="hero-dash-tab active" data-mode="fair">Fair split</button>
                  <button class="hero-dash-tab" data-mode="flat">Flat split</button>
                </div>

                <div class="hero-dash-main">
                  <div class="hero-dash-amounts" id="heroAmounts"></div>
                  <div>
                    <div style="font-size:11px;color:#9ca3af;margin-bottom:4px;">Estimated share this month</div>
                    <div class="progress-bar">
                      <div class="progress-fill" id="heroFairBar"></div>
                    </div>
                    <div class="hero-note" id="heroNote">
                      With PowerSplit, heavy users pay more and light users pay less. The total bill stays the same.
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="reveal">
          <h2 class="section-title">Why shared houses like PowerSplit</h2>
          <p class="section-lead">
            Less chat, more clarity. The app handles the maths so your group can focus on living together, not fighting over bills.
          </p>
          <div class="grid-three">
            <div class="card">
              <h3>Per-device tracking</h3>
              <p class="muted">
                Smart plugs sit on your biggest energy users — heaters, gaming PCs, tumble dryers.
                Each one is linked to a person or shared.
              </p>
            </div>
            <div class="card">
              <h3>Neutral maths</h3>
              <p class="muted">
                PowerSplit converts kWh into an unbiased split. Shared devices default to equal shares;
                the group can tweak splits if you all agree.
              </p>
            </div>
            <div class="card">
              <h3>Instant settle-up</h3>
              <p class="muted">
                At the end of the month, everyone sees the same breakdown and pays their share online. No more chasing screenshots or rebilling people.
              </p>
            </div>
          </div>
        </div>

        <div class="home-row reveal">
          <div class="card">
            <h3>New to PowerSplit?</h3>
            <p class="muted">
              Start with a Starter Kit and invite your housemates. The app guides you through a short setup and then drops you
              into your dashboard.
            </p>
            <div class="row" style="margin-top:10px;">
              <button class="btn primary" data-action="buy-starter">See checkout flow</button>
              <button class="btn soft" data-section="pricing">View pricing</button>
            </div>
          </div>

          <div class="card">
            <h3>Already have the kit?</h3>
            <p class="muted">
              Go straight to your dashboard, manage devices and download your latest statement.
            </p>
            <button class="btn soft" data-section="dashboard" style="margin-top:8px;width:100%;">Open dashboard</button>
          </div>
        </div>

        <!-- PRODUCT DEMO (CSS only) -->
        <div class="gallery reveal">
          <h2 class="section-title" style="margin-bottom:10px;">See the Starter Kit</h2>
          <p class="section-lead" style="margin-bottom:16px;">
            Real hardware, real app. These demos show what arrives in the box and how the dashboard looks on day one.
          </p>
          <div class="gallery-row">
            <div class="gallery-card">
              <div class="demo-visual">
                <div class="plug-strip">
                  <div class="plug">
                    <div class="plug-face">
                      <div></div><div></div><div></div>
                    </div>
                    <div class="plug-led"></div>
                  </div>
                  <div class="plug">
                    <div class="plug-face">
                      <div></div><div></div><div></div>
                    </div>
                    <div class="plug-led"></div>
                  </div>
                  <div class="plug">
                    <div class="plug-face">
                      <div></div><div></div><div></div>
                    </div>
                    <div class="plug-led"></div>
                  </div>
                </div>
              </div>
              <div class="gallery-title">Smart plugs that snap into place</div>
              <div class="gallery-text">
                Compact plugs that sit between the socket and device. No tools, no electrician required.
              </div>
            </div>

            <div class="gallery-card">
              <div class="demo-visual" style="display:flex;justify-content:center;align-items:center;">
                <div class="phone-shell">
                  <div class="phone-notch"></div>
                  <div class="phone-screen">
                    <div class="phone-row">
                      <div class="phone-pill"></div>
                      <div class="phone-pill"></div>
                      <div class="phone-pill"></div>
                    </div>
                    <div class="phone-bars">
                      <div class="phone-bar"></div>
                      <div class="phone-bar"></div>
                      <div class="phone-bar"></div>
                      <div class="phone-bar"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="gallery-title">Live dashboard on your phone</div>
              <div class="gallery-text">
                Everyone in the flat can see their share in real-time: no more screenshots or mystery numbers.
              </div>
            </div>

            <div class="gallery-card">
              <div class="demo-visual">
                <div class="mini-dash">
                  <div class="mini-dash-header">
                    <span>Starter Kit</span>
                    <span>£129</span>
                  </div>
                  <div class="mini-dash-bar">
                    <div class="mini-dash-seg"></div>
                    <div class="mini-dash-seg"></div>
                    <div class="mini-dash-seg"></div>
                  </div>
                  <div class="mini-dash-cards">
                    <div class="mini-dash-card">
                      <strong>Devices</strong>
                      4 plugs · ready on arrival
                    </div>
                    <div class="mini-dash-card">
                      <strong>Setup</strong>
                      Scan QR · join your flat
                    </div>
                  </div>
                </div>
              </div>
              <div class="gallery-title">Starter Kit in one box</div>
              <div class="gallery-text">
                Plugs, quick-start guide and a QR code to connect your flat in under ten minutes.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- DASHBOARD SECTION -->
      <section id="dashboard">
        <div class="reveal">
          <h2 class="section-title" id="dashboardHeading">Welcome back, Sam</h2>
          <p class="section-lead">
            Here’s how your flat is tracking this month. Switch between Overview, Devices, People and Statements.
          </p>
        </div>

        <div class="dash-shell reveal" id="dashShell">
          <aside class="dash-sidebar">
            <div class="dash-logo">Flat 12, King Street</div>
            <div class="dash-nav">
              <button class="active" data-dash="overview">
                <span>Overview</span>
                <span>Live</span>
              </button>
              <button data-dash="devices">
                <span>Devices</span>
                <span>4 tracked</span>
              </button>
              <button data-dash="people">
                <span>People</span>
                <span>3 members</span>
              </button>
              <button data-dash="statements">
                <span>Statements</span>
                <span>Last 12</span>
              </button>
            </div>
            <div class="dash-sidebar-footer">
              Last sync · 2 min ago<br />
              Tariff: 28.4p / kWh · Standing charge: 51p / day
            </div>
          </aside>

          <div class="dash-main">
            <div class="dash-main-header">
              <div class="dash-main-title" id="dashTitle">Sam’s October dashboard</div>
              <div class="dash-pill">Sample data · matches numbers used in your report</div>
            </div>

            <div class="dash-main-content">
              <div class="usage-wrap">
                <div class="usage-metrics">
                  <div class="usage-label" id="usageLabel">Usage this month</div>
                  <div class="usage-main" id="usageMain">£95.30</div>
                  <div class="usage-sub" id="usageSub">312 kWh · electric only</div>
                  <div class="usage-meta" id="usageMeta"></div>
                </div>

                <div class="usage-visual">
                  <div class="usage-bar-label-row">
                    <span id="usageBarTitle">Bill split across people</span>
                    <span id="usageBarTotal">Total £95.30</span>
                  </div>
                  <div class="usage-bar-track" id="usageBar"></div>
                  <div class="usage-legend" id="usageLegend"></div>
                </div>
              </div>

              <div class="dash-lower-row">
                <div class="dash-panel active" id="dashLowerLeft">
                  <h4 id="dashLowerLeftTitle">Top devices</h4>
                  <div class="table" id="dashLowerLeftTable"></div>
                </div>
                <div class="dash-panel active" id="dashLowerRight">
                  <h4 id="dashLowerRightTitle">People this month</h4>
                  <div class="table" id="dashLowerRightTable"></div>
                </div>
              </div>

              <div class="usage-stories">
                <div class="usage-story">
                  <div class="usage-story-title">Gaming night spike</div>
                  <div class="usage-story-metric">+18% usage · 7–11pm</div>
                  <div>PC + monitor and console lit up. PowerSplit tags the spike to the right people automatically.</div>
                </div>
                <div class="usage-story">
                  <div class="usage-story-title">Laundry day</div>
                  <div class="usage-story-metric">Dryer 3× usual</div>
                  <div>Instead of arguing about “who used it most”, the bill already reflects each run of the dryer.</div>
                </div>
                <div class="usage-story">
                  <div class="usage-story-title">Weekend away</div>
                  <div class="usage-story-metric">You · −22% usage</div>
                  <div>When someone is away, their share drops in the app — no awkward “can I pay less this month?” chat.</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- PRICING -->
      <section id="pricing">
        <div class="reveal">
          <h2 class="section-title">Pricing without small print</h2>
          <p class="section-lead">
            One kit per property, optional subscription if you want deeper history and export tools.
          </p>
        </div>

        <div class="reveal" style="margin-bottom:12px;">
          <div class="billing-toggle">
            <button class="billing-option active" data-billing="oneoff">Starter Kit only</button>
            <button class="billing-option" data-billing="bundle">Kit + Plus bundle</button>
          </div>
        </div>

        <div class="grid-two">
          <div class="reveal">
            <div class="card" id="priceKit">
              <h3>Starter Kit</h3>
              <div class="price-tag" id="priceKitValue">£129</div>
              <div class="price-note" id="priceKitNote">One-off cost for a 3–5 person home.</div>
              <ul class="clean" style="margin-top:10px;">
                <li>Hardware, app access and first 3 months of usage included.</li>
                <li>Per-device tracking, shared cost split and simple monthly statement.</li>
                <li>Email support for setup and troubleshooting.</li>
              </ul>
              <div style="margin-top:12px;">
                <button class="btn primary" data-action="buy-starter">Buy now</button>
              </div>
            </div>
          </div>

          <div class="reveal">
            <div class="card" id="pricePlus">
              <h3>PowerSplit Plus</h3>
              <div class="price-tag" id="pricePlusValue">
                £4.99<span style="font-size:12px;font-weight:400;"> / month</span>
              </div>
              <div class="price-note" id="pricePlusNote">
                Optional add-on for one household, not per person.
              </div>
              <ul class="clean" style="margin-top:10px;">
                <li>Unlimited history and export to CSV or PDF.</li>
                <li>Landlord-friendly summary view.</li>
                <li>Priority support and tips to reduce your total spend.</li>
              </ul>
              <div style="margin-top:12px;">
                <button class="btn soft" data-action="buy-bundle">Add to order</button>
              </div>
            </div>
          </div>
        </div>

        <div class="pricing-bottom reveal">
          <div class="card">
            <h3>1. Order today</h3>
            <p class="muted">
              Place your order through this demo checkout. In a live launch, payment would be handled by a secure
              provider like Stripe.
            </p>
          </div>
          <div class="card">
            <h3>2. Ship tomorrow</h3>
            <p class="muted">
              Kits are picked, packed and shipped from a UK warehouse with tracking. Typical delivery is 1–2 working days.
            </p>
          </div>
          <div class="card">
            <h3>3. Plug & go</h3>
            <p class="muted">
              Scan the QR code in the box, plug in devices and invite your housemates. The dashboard lights up in minutes.
            </p>
          </div>
        </div>
      </section>

      <!-- CHECKOUT -->
      <section id="checkout">
        <div class="reveal">
          <h2 class="section-title">Checkout</h2>
          <p class="section-lead">
            Three steps: plan, details, payment. The form behaves like a real checkout with validation and a clear confirmation.
          </p>
        </div>

        <div class="grid-two">
          <div class="reveal">
            <div class="card">
              <div class="stepper">
                <div class="step-circle active" data-step="1">1</div>
                <span class="step-label">Plan</span>
                <div class="step-divider"></div>
                <div class="step-circle" data-step="2">2</div>
                <span>Details</span>
                <div class="step-divider"></div>
                <div class="step-circle" data-step="3">3</div>
                <span>Payment</span>
              </div>

              <div id="step1" class="step-panel active">
                <h3>Choose your plan</h3>
                <div class="field">
                  <label>Starter Kit</label>
                  <select id="coPlan">
                    <option value="starter">Starter Kit · £129</option>
                    <option value="starter_plus">Starter Kit + Plus · £129 + £4.99/month</option>
                  </select>
                </div>
                <div class="field">
                  <label>Extra smart plugs (optional)</label>
                  <input type="number" id="coExtras" min="0" max="8" value="0" />
                  <div class="note">£18 each, for extra rooms or additional devices.</div>
                </div>
                <button class="btn primary" id="toStep2" style="width:100%;margin-top:4px;">Next: details</button>
              </div>

              <div id="step2" class="step-panel">
                <h3>Your details</h3>
                <div class="field">
                  <label for="coName">Full name</label>
                  <input type="text" id="coName" placeholder="Your name" />
                  <div class="error" id="coNameError"></div>
                </div>
                <div class="field">
                  <label for="coEmail">Email for receipts</label>
                  <input type="email" id="coEmail" placeholder="you@example.com" />
                  <div class="error" id="coEmailError"></div>
                </div>
                <div class="field">
                  <label for="coAddress">Delivery address</label>
                  <input type="text" id="coAddress" placeholder="House number, street, city, postcode" />
                  <div class="error" id="coAddressError"></div>
                </div>
                <div class="row" style="margin-top:6px;">
                  <button class="btn soft" id="backTo1" style="flex:1;">Back</button>
                  <button class="btn primary" id="toStep3" style="flex:2;">Next: payment</button>
                </div>
              </div>

              <div id="step3" class="step-panel">
                <h3>Payment</h3>
                <div class="field">
                  <label>Card details</label>
                  <div class="input-row">
                    <input type="text" id="coCard" placeholder="Card number" />
                    <input type="text" id="coCardName" placeholder="Name on card" />
                  </div>
                  <div class="input-row" style="margin-top:6px;">
                    <input type="text" id="coExpiry" placeholder="MM/YY" />
                    <input type="text" id="coCVV" placeholder="CVV" />
                  </div>
                  <div class="error" id="coCardError"></div>
                </div>
                <div class="field">
                  <label>
                    <input type="checkbox" id="coTerms" />
                    <span style="font-size:13px;color:var(--fg-soft);">
                      I agree to the Terms and understand card details are processed securely.
                    </span>
                  </label>
                  <div class="error" id="coTermsError"></div>
                </div>
                <button class="btn primary" id="coSubmit" style="width:100%;margin-top:4px;">Pay & place order</button>
                <div id="coSuccess" class="success" style="display:none;">
                  Order confirmed. A receipt has been generated in this demo checkout.
                </div>

                <div class="security-strip">
                  <span class="badge-pill">Demo only</span>
                  <span>Cards would normally be processed by providers like Stripe, Visa and Mastercard.</span>
                </div>
              </div>
            </div>
          </div>

          <div class="reveal">
            <div class="card">
              <h3>Order summary</h3>
              <ul class="clean" id="coSummary"></ul>
              <div class="note" id="coTotalNote" style="margin-top:10px;"></div>
              <div class="note" style="margin-top:12px;">
                This runs entirely in the browser, which is ideal for a GitHub Pages deployment and coursework demo.
              </div>
            </div>

            <div class="card">
              <h3>Questions about billing?</h3>
              <p class="muted">
                If your house changes or someone moves out, you can adjust members and add-ons in the Account section before the next billing cycle.
              </p>
              <div style="margin-top:8px;">
                <span class="small-link" data-section="account">Go to Account</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ACCOUNT -->
      <section id="account">
        <div class="reveal">
          <h2 class="section-title">Account & sign-in</h2>
          <p class="section-lead">
            Create an account for your property, invite housemates and manage billing preferences in one place.
          </p>
        </div>

        <div class="grid-two">
          <div class="reveal">
            <div class="card">
              <h3>Create account</h3>
              <form id="signupForm" novalidate>
                <div class="field">
                  <label for="suName">Your name</label>
                  <input type="text" id="suName" placeholder="Full name" />
                </div>
                <div class="field">
                  <label for="suEmail">Email</label>
                  <input type="email" id="suEmail" placeholder="you@example.com" />
                </div>
                <div class="field">
                  <label for="suPassword">Password</label>
                  <input type="password" id="suPassword" placeholder="Create a password" />
                </div>
                <div class="field">
                  <label for="suHouse">Household name</label>
                  <input type="text" id="suHouse" placeholder="e.g. Flat 12 King Street" />
                </div>
                <button type="button" class="btn primary" id="suBtn" style="width:100%;margin-top:4px;">
                  Create account
                </button>
                <div id="suSuccess" class="success" style="display:none;">
                  Account created in this demo environment. Use the sign-in form to simulate access.
                </div>
              </form>
            </div>
          </div>

          <div class="reveal">
            <div class="card">
              <h3>Sign in</h3>
              <form id="loginForm" novalidate>
                <div class="field">
                  <label for="liEmail">Email</label>
                  <input type="email" id="liEmail" placeholder="you@example.com" />
                </div>
                <div class="field">
                  <label for="liPassword">Password</label>
                  <input type="password" id="liPassword" placeholder="Password" />
                </div>
                <button type="button" class="btn soft" id="liBtn" style="width:100%;margin-top:4px;">
                  Sign in
                </button>
                <div id="liSuccess" class="success" style="display:none;">
                  Signed in (simulated). A real deployment would now load your personal dashboard.
                </div>
              </form>
              <div style="margin-top:8px;">
                <span class="small-link" data-section="pricing">View plans</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer>
      <div class="footer-main">
        <div>
          <div class="footer-logo">
            <div class="footer-logo-mark"></div>
            <div>
              <div style="font-weight:600;color:#111827;font-size:14px;">PowerSplit</div>
              <div style="font-size:11px;color:var(--fg-soft);">Fair energy for shared homes.</div>
            </div>
          </div>
          <div style="font-size:13px;color:var(--fg-soft);">
            A concept project that demonstrates how a real product website, dashboard and checkout could look on GitHub Pages.
          </div>
        </div>

        <div>
          <div class="footer-title">Product</div>
          <div class="footer-links">
            <a href="#home">Overview</a>
            <a href="#dashboard">Dashboard</a>
            <a href="#pricing">Pricing</a>
            <a href="#checkout">Checkout demo</a>
          </div>
        </div>

        <div>
          <div class="footer-title">Support</div>
          <div class="footer-links">
            <a href="#faq">FAQ (coursework)</a>
            <a href="mailto:support@powersplit-demo.com">support@powersplit-demo.com</a>
            <a href="#">Delivery &amp; returns</a>
            <a href="#">Safety &amp; warranties</a>
          </div>
        </div>

        <div>
          <div class="footer-title">Connect</div>
          <div class="footer-links">
            <a href="#">Instagram</a>
            <a href="#">X / Twitter</a>
            <a href="#">LinkedIn</a>
            <a href="#">Newsletter</a>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <span>© PowerSplit. Frontend prototype for university coursework.</span>
        <span>Hosted on GitHub Pages · No real payments are taken.</span>
      </div>
    </footer>
  </div>

  <!-- COOKIE BANNER -->
  <div class="cookie-bar" id="cookieBar">
    <div class="cookie-inner" id="cookieInner">
      <div class="cookie-text">
        We use cookies in this demo to remember your navigation and order selections. No ads, no tracking outside this
        page.
      </div>
      <div class="cookie-actions">
        <button class="btn outline-light" id="cookieDecline">Minimal only</button>
        <button class="btn primary" id="cookieAccept">Accept all</button>
      </div>
    </div>
  </div>

  <script>
    // SPA NAV
    const navButtons = document.querySelectorAll(
      "nav button, .header-cta [data-section], .btn[data-section], .small-link[data-section]"
    );
    const sections = document.querySelectorAll("main section");

    function showSection(id) {
      sections.forEach((sec) => {
        const active = sec.id === id;
        sec.classList.toggle("active", active);
        if (active) {
          setTimeout(() => sec.classList.add("show"), 10);
        } else {
          sec.classList.remove("show");
        }
      });
      window.scrollTo({ top: 0, behavior: "smooth" });
      navButtons.forEach((btn) => {
        if (btn.tagName === "BUTTON" && btn.closest("nav")) {
          btn.classList.toggle("active", btn.dataset.section === id);
        }
      });
    }

    navButtons.forEach((btn) => {
      btn.addEventListener("click", () => showSection(btn.dataset.section));
    });

    // REVEAL ON SCROLL
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) {
            e.target.classList.add("in-view");
            observer.unobserve(e.target);
          }
        });
      },
      { threshold: 0.18 }
    );
    document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));

    // HERO SPLIT TOGGLE
    const heroData = {
      fair: [
        { name: "You", amount: 36.8 },
        { name: "Sam", amount: 30.1 },
        { name: "Riley", amount: 28.4 }
      ],
      flat: [
        { name: "You", amount: 31.8 },
        { name: "Sam", amount: 31.8 },
        { name: "Riley", amount: 31.8 }
      ]
    };

    const heroTabs = document.querySelectorAll(".hero-dash-tab");
    const heroAmounts = document.getElementById("heroAmounts");
    const heroFairBar = document.getElementById("heroFairBar");
    const heroNote = document.getElementById("heroNote");

    function renderHero(mode) {
      heroAmounts.innerHTML = "";
      heroData[mode].forEach((p) => {
        const row = document.createElement("div");
        row.className = "hero-person";
        row.innerHTML = `<span>${p.name}</span><span>£${p.amount.toFixed(2)}</span>`;
        heroAmounts.appendChild(row);
      });
      if (mode === "fair") {
        heroFairBar.style.transform = "scaleX(0.56)";
        heroNote.textContent =
          "With PowerSplit, heavy users pay more and light users pay less. The total bill stays the same.";
      } else {
        heroFairBar.style.transform = "scaleX(0.33)";
        heroNote.textContent =
          "With a flat split, everyone pays the same — even when their actual usage is very different.";
      }
    }

    heroTabs.forEach((t) => {
      t.addEventListener("click", () => {
        heroTabs.forEach((x) => x.classList.remove("active"));
        t.classList.add("active");
        renderHero(t.dataset.mode);
      });
    });
    renderHero("fair");

    // 3D-ish parallax on hero and dashboard
    function addParallax(containerSelector, leftSelector, rightSelector) {
      const container = document.querySelector(containerSelector);
      if (!container) return;
      const left = container.querySelector(leftSelector);
      const right = container.querySelector(rightSelector);
      if (!left || !right) return;

      container.addEventListener("pointermove", (e) => {
        const rect = container.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width - 0.5;
        const y = (e.clientY - rect.top) / rect.height - 0.5;
        const rotateX = y * -6;
        const rotateY = x * 8;
        left.style.transform = `translate3d(${x * -10}px, ${y * -8}px, 0)`;
        right.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) translate3d(${x * 12}px, ${y * 10}px, 0)`;
      });

      container.addEventListener("pointerleave", () => {
        left.style.transform = "";
        right.style.transform = "";
      });
    }
    addParallax("#hero", ".hero-left", ".hero-right");
    addParallax("#dashShell", ".dash-sidebar", ".dash-main");

    // PERSONAL NAME
    let userName = localStorage.getItem("ps-name") || "Sam";
    const dashboardHeading = document.getElementById("dashboardHeading");
    const dashTitle = document.getElementById("dashTitle");

    function applyUserName() {
      dashboardHeading.textContent = `Welcome back, ${userName}`;
      if (dashTitle) dashTitle.textContent = `${userName}’s October dashboard`;
    }
    applyUserName();

    // DASHBOARD DATA
    const dashNavButtons = document.querySelectorAll(".dash-nav button");
    const usageLabel = document.getElementById("usageLabel");
    const usageMain = document.getElementById("usageMain");
    const usageSub = document.getElementById("usageSub");
    const usageMeta = document.getElementById("usageMeta");
    const usageBarTitle = document.getElementById("usageBarTitle");
    const usageBarTotal = document.getElementById("usageBarTotal");
    const usageBar = document.getElementById("usageBar");
    const usageLegend = document.getElementById("usageLegend");
    const dashLowerLeftTitle = document.getElementById("dashLowerLeftTitle");
    const dashLowerRightTitle = document.getElementById("dashLowerRightTitle");
    const dashLowerLeftTable = document.getElementById("dashLowerLeftTable");
    const dashLowerRightTable = document.getElementById("dashLowerRightTable");

    const dashConfigs = {
      overview: {
        usageLabel: "Usage this month",
        usageMain: "£95.30",
        usageSub: "312 kWh · electric only",
        usageMeta: [
          { label: "People", value: "3" },
          { label: "Standing charge", value: "£14.40" },
          { label: "Shared devices", value: "£28.50" }
        ],
        barTitle: "Bill split across people",
        barTotal: "Total £95.30",
        segments: [
          { label: "You", percent: 39, amount: "£36.80" },
          { label: "Sam", percent: 32, amount: "£30.10" },
          { label: "Riley", percent: 29, amount: "£28.40" }
        ],
        lowerLeftTitle: "Top devices",
        lowerLeftRows: [
          ["Heater", "36% of usage"],
          ["PC & monitor", "27% of usage"],
          ["Dryer", "18% of usage"],
          ["Fridge & base load", "19% of usage"]
        ],
        lowerRightTitle: "People this month",
        lowerRightRows: [
          ["You", "Heavy · heater + PC"],
          ["Sam", "Medium · PC, monitor"],
          ["Riley", "Light · mostly shared"],
          ["Shared", "Fridge, lighting"]
        ]
      },
      devices: {
        title: "Devices · energy hotspots",
        usageLabel: "Devices this month",
        usageMain: "312 kWh",
        usageSub: "Tracked from 4 smart plugs",
        usageMeta: [
          { label: "Heater", value: "36%" },
          { label: "PC + monitor", value: "27%" },
          { label: "Dryer", value: "18%" }
        ],
        barTitle: "Usage split by device",
        barTotal: "Total 312 kWh",
        segments: [
          { label: "Heater", percent: 36, amount: "113 kWh" },
          { label: "PC + monitor", percent: 27, amount: "84 kWh" },
          { label: "Dryer", percent: 18, amount: "56 kWh" },
          { label: "Other / base", percent: 19, amount: "59 kWh" }
        ],
        lowerLeftTitle: "Shared devices",
        lowerLeftRows: [
          ["Kitchen & fridge", "Always on · shared"],
          ["Hallway lighting", "Timed schedule"],
          ["Wi-Fi & router", "Low draw"]
        ],
        lowerRightTitle: "Ideas to save",
        lowerRightRows: [
          ["Heater", "1°C lower · ~8% saving"],
          ["Dryer", "Shift to off-peak"],
          ["PC", "Sleep after 15 minutes"],
          ["All", "Turn off at wall"]
        ]
      },
      people: {
        title: "People · fair split breakdown",
        usageLabel: "Per-person cost",
        usageMain: "£31.77 avg",
        usageSub: "Fair split · 3 people",
        usageMeta: [
          { label: "You", value: "£36.80" },
          { label: "Sam", value: "£30.10" },
          { label: "Riley", value: "£28.40" }
        ],
        barTitle: "Fair split vs average",
        barTotal: "Average £31.77",
        segments: [
          { label: "You", percent: 42, amount: "£36.80" },
          { label: "Sam", percent: 32, amount: "£30.10" },
          { label: "Riley", percent: 26, amount: "£28.40" }
        ],
        lowerLeftTitle: "Private devices",
        lowerLeftRows: [
          ["You", "Heater, PC"],
          ["Sam", "PC, monitor"],
          ["Riley", "Console, TV"],
          ["Shared", "Fridge, lighting"]
        ],
        lowerRightTitle: "Settle-up preview",
        lowerRightRows: [
          ["You", "Owes £36.80"],
          ["Sam", "Owes £30.10"],
          ["Riley", "Owes £28.40"],
          ["Group", "Settle online"]
        ]
      },
      statements: {
        title: "Statements · history",
        usageLabel: "Recent bills",
        usageMain: "3 months",
        usageSub: "Aug · Sep · Oct",
        usageMeta: [
          { label: "Average", value: "£89.60" },
          { label: "Highest", value: "£95.30" },
          { label: "Lowest", value: "£82.40" }
        ],
        barTitle: "Bill trend",
        barTotal: "Last 3 months",
        segments: [
          { label: "Aug", percent: 86, amount: "£82.40" },
          { label: "Sep", percent: 94, amount: "£90.10" },
          { label: "Oct", percent: 100, amount: "£95.30" }
        ],
        lowerLeftTitle: "Status",
        lowerLeftRows: [
          ["October", "Open · due 28th"],
          ["September", "Paid · PDF saved"],
          ["August", "Paid · CSV export"],
          ["Older", "Archived"]
        ],
        lowerRightTitle: "Exports",
        lowerRightRows: [
          ["Download PDF", "For landlords"],
          ["Download CSV", "For spreadsheets"],
          ["Share link", "Send to group chat"],
          ["Resend email", "Last summary"]
        ]
      }
    };

    function renderDashboard(mode) {
      const cfg = dashConfigs[mode];
      if (mode === "overview") {
        dashTitle.textContent = `${userName}’s October dashboard`;
      } else {
        dashTitle.textContent = cfg.title;
      }

      usageLabel.textContent = cfg.usageLabel;
      usageMain.textContent = cfg.usageMain;
      usageSub.textContent = cfg.usageSub;

      usageMeta.innerHTML = "";
      cfg.usageMeta.forEach((m) => {
        const pill = document.createElement("div");
        pill.className = "usage-pill";
        pill.textContent = `${m.label} · ${m.value}`;
        usageMeta.appendChild(pill);
      });

      usageBarTitle.textContent = cfg.barTitle;
      usageBarTotal.textContent = cfg.barTotal;
      usageBar.innerHTML = "";
      usageLegend.innerHTML = "";

      cfg.segments.forEach((seg, idx) => {
        const fill = document.createElement("div");
        fill.className = `usage-fill u-col-${idx}`;
        fill.style.width = "0%";
        usageBar.appendChild(fill);

        const legend = document.createElement("div");
        legend.className = "usage-legend-item";
        legend.innerHTML = `
          <span class="usage-dot u-col-${idx}"></span>
          <span>${seg.label}</span>
          <span>· ${seg.percent}%</span>
          <span>· ${seg.amount}</span>
        `;
        usageLegend.appendChild(legend);

        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            fill.style.width = seg.percent + "%";
          });
        });
      });

      dashLowerLeftTitle.textContent = cfg.lowerLeftTitle;
      dashLowerRightTitle.textContent = cfg.lowerRightTitle;
      dashLowerLeftTable.innerHTML = "";
      dashLowerRightTable.innerHTML = "";

      cfg.lowerLeftRows.forEach(([label, value]) => {
        const row = document.createElement("div");
        row.className = "table-row";
        row.innerHTML = `<span>${label}</span><span>${value}</span>`;
        dashLowerLeftTable.appendChild(row);
      });

      cfg.lowerRightRows.forEach(([label, value]) => {
        const row = document.createElement("div");
        row.className = "table-row";
        row.innerHTML = `<span>${label}</span><span>${value}</span>`;
        dashLowerRightTable.appendChild(row);
      });

      document.getElementById("dashLowerLeft").classList.add("active");
      document.getElementById("dashLowerRight").classList.add("active");
    }

    dashNavButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        dashNavButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        renderDashboard(btn.dataset.dash);
      });
    });
    renderDashboard("overview");

    // PRICING TOGGLE
    const billingButtons = document.querySelectorAll(".billing-option");
    const priceKitValue = document.getElementById("priceKitValue");
    const priceKitNote = document.getElementById("priceKitNote");
    const pricePlusValue = document.getElementById("pricePlusValue");
    const pricePlusNote = document.getElementById("pricePlusNote");

    billingButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        billingButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        const mode = btn.dataset.billing;
        if (mode === "oneoff") {
          priceKitValue.textContent = "£129";
          priceKitNote.textContent = "One-off cost for a 3–5 person home.";
          pricePlusValue.innerHTML =
            "£4.99<span style=\"font-size:12px;font-weight:400;\"> / month</span>";
          pricePlusNote.textContent =
            "Optional add-on for one household, not per person.";
        } else {
          priceKitValue.textContent = "£129";
          priceKitNote.textContent = "Starter Kit · includes first year of Plus when bundled.";
          pricePlusValue.innerHTML =
            "£0<span style=\"font-size:12px;font-weight:400;\"> for first year</span>";
          pricePlusNote.textContent =
            "Then £4.99/month per household from year two. Cancel any time.";
        }
      });
    });

    // CHECKOUT SUMMARY + STEPS
    const coPlan = document.getElementById("coPlan");
    const coExtras = document.getElementById("coExtras");
    const coSummary = document.getElementById("coSummary");
    const coTotalNote = document.getElementById("coTotalNote");
    const steps = document.querySelectorAll(".step-circle");
    const stepPanels = {
      1: document.getElementById("step1"),
      2: document.getElementById("step2"),
      3: document.getElementById("step3")
    };

    function renderSummary() {
      const extras = parseInt(coExtras.value || "0", 10);
      const plan = coPlan.value;
      const lines = [];
      let total = 129;
      lines.push("Starter Kit · £129");
      if (extras > 0) {
        const extraTotal = extras * 18;
        total += extraTotal;
        lines.push(`${extras} × extra smart plug · £${extraTotal.toFixed(2)}`);
      }
      if (plan === "starter_plus") {
        lines.push("PowerSplit Plus · £4.99 / month (billed separately)");
      }
      coSummary.innerHTML = "";
      lines.forEach((l) => {
        const li = document.createElement("li");
        li.textContent = l;
        coSummary.appendChild(li);
      });
      coTotalNote.textContent = `Approximate upfront total: £${total.toFixed(
        2
      )} (subscription, if chosen, billed monthly).`;
    }
    renderSummary();
    coPlan.addEventListener("change", renderSummary);
    coExtras.addEventListener("input", renderSummary);

    function goStep(step) {
      Object.keys(stepPanels).forEach((k) => {
        stepPanels[k].classList.toggle("active", Number(k) === step);
      });
      steps.forEach((s) => {
        s.classList.toggle("active", Number(s.dataset.step) === step);
      });
    }

    document.getElementById("toStep2").addEventListener("click", () => goStep(2));
    document.getElementById("backTo1").addEventListener("click", () => goStep(1));

    document.getElementById("toStep3").addEventListener("click", () => {
      const name = document.getElementById("coName");
      const email = document.getElementById("coEmail");
      const address = document.getElementById("coAddress");
      let ok = true;
      ["coNameError", "coEmailError", "coAddressError"].forEach(
        (id) => (document.getElementById(id).textContent = "")
      );
      if (!name.value.trim()) {
        document.getElementById("coNameError").textContent = "Please enter your name.";
        ok = false;
      }
      if (!email.value.trim() || !email.value.includes("@")) {
        document.getElementById("coEmailError").textContent = "Please enter a valid email.";
        ok = false;
      }
      if (!address.value.trim()) {
        document.getElementById("coAddressError").textContent =
          "Please enter your delivery address.";
        ok = false;
      }
      if (!ok) return;
      goStep(3);
    });

    document.getElementById("coSubmit").addEventListener("click", () => {
      const card = document.getElementById("coCard");
      const name = document.getElementById("coCardName");
      const expiry = document.getElementById("coExpiry");
      const cvv = document.getElementById("coCVV");
      const terms = document.getElementById("coTerms");
      const errCard = document.getElementById("coCardError");
      const errTerms = document.getElementById("coTermsError");
      const success = document.getElementById("coSuccess");

      errCard.textContent = "";
      errTerms.textContent = "";
      success.style.display = "none";

      const cardOk =
        card.value.replace(/\s+/g, "").length >= 12 &&
        name.value.trim() &&
        expiry.value.trim() &&
        cvv.value.trim().length >= 3;

      let ok = true;
      if (!cardOk) {
        errCard.textContent = "Please complete all card fields.";
        ok = false;
      }
      if (!terms.checked) {
        errTerms.textContent = "You must agree to continue.";
        ok = false;
      }
      if (!ok) return;

      success.style.display = "block";
      success.scrollIntoView({ behavior: "smooth", block: "center" });
    });

    // ACCOUNT FORMS
    document.getElementById("suBtn").addEventListener("click", () => {
      const n = document.getElementById("suName").value.trim();
      const e = document.getElementById("suEmail").value.trim();
      const p = document.getElementById("suPassword").value.trim();
      const h = document.getElementById("suHouse").value.trim();
      if (!n || !e || !p || !h) {
        alert("Please fill in all fields to create an account.");
        return;
      }
      userName = n;
      localStorage.setItem("ps-name", userName);
      applyUserName();
      document.getElementById("suSuccess").style.display = "block";
    });

    document.getElementById("liBtn").addEventListener("click", () => {
      const e = document.getElementById("liEmail").value.trim();
      const p = document.getElementById("liPassword").value.trim();
      if (!e || !p) {
        alert("Enter your email and password to sign in.");
        return;
      }
      document.getElementById("liSuccess").style.display = "block";
      showSection("dashboard");
    });

    // BUY BUTTONS (make them functional)
    function goToCheckoutWithPlan(plan) {
      coPlan.value = plan;
      renderSummary();
      showSection("checkout");
      goStep(1);
    }

    document.querySelectorAll("[data-action='buy-starter']").forEach((btn) => {
      btn.addEventListener("click", () => goToCheckoutWithPlan("starter"));
    });

    document.querySelectorAll("[data-action='buy-bundle']").forEach((btn) => {
      btn.addEventListener("click", () => goToCheckoutWithPlan("starter_plus"));
    });

    // COOKIE BANNER
    const cookieBar = document.getElementById("cookieBar");
    const cookieInner = document.getElementById("cookieInner");
    const cookieAccept = document.getElementById("cookieAccept");
    const cookieDecline = document.getElementById("cookieDecline");
    const COOKIE_KEY = "ps-cookie-choice-v2";

    function hideCookie() {
      cookieInner.classList.remove("show");
      setTimeout(() => { cookieBar.style.display = "none"; }, 260);
    }

    if (!localStorage.getItem(COOKIE_KEY)) {
      setTimeout(() => cookieInner.classList.add("show"), 300);
    } else {
      cookieBar.style.display = "none";
    }

    cookieAccept.addEventListener("click", () => {
      localStorage.setItem(COOKIE_KEY, "all");
      hideCookie();
    });

    cookieDecline.addEventListener("click", () => {
      localStorage.setItem(COOKIE_KEY, "minimal");
      hideCookie();
    });
  </script>
</body>
</html>
